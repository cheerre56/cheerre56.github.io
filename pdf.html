<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NuvexPDF</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
    <script src="https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
    <style>。loader{border:3px solid #f3f3f3;border-top:3px solid #3b82f6;border-radius:50%;width:20px;height:20px;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.dragging-source{opacity:0.4;background:#f3f4f6;border:2px dashed #9ca3af}.drag-target-hover{transform:scale(1.05);box-shadow:0 0 0 3px #3b82f6!important;background-color:#eff6ff!important;z-index:10;position:relative}。sidebar-insert-hover{transform:scale(1.02);box-shadow:-4px 0 0 0 #10b981,0 4px 6px -1px rgba(0，0，0，0.1)!important;background-color:#ecfdf5!important;z-index:20}。draggable-item{cursor:grab;transition:transform 0.2s}。draggable-item:active{cursor:grabbing}。page-card{cursor:grab;transition:transform 0.2s，box-shadow 0.2s}。page-card:active{cursor:grabbing}。drag-over-zone{background-color:#eff6ff!important;border-color:#3b82f6!important;transform:scale(1.01)}#editor-drop-overlay{background-color:rgba(255，255，255,0.9);border:4px dashed #3b82f6;pointer-events:none;z-index:50}。sidebar-item{cursor:grab;transition:all 0.2s}.sidebar-item:active{cursor:grabbing}.sidebar-target-hover{border-color:#3b82f6!important;background-color:#eff6ff!important;transform:translateX(5px)}</style>
</head>
<body class="bg-slate-100 min-h-screen font-sans text-slate-800">
    <div class="container mx-auto px-4 py-8 max-w-6xl">
        <div class="text-center mb-8"><h1 class="text-3xl font-extrabold text-slate-800 mb-2"><span class="text-blue-600">Nuvex</span>PDF</h1><p class="text-slate-500 text-sm">Professional PDF Tools</p></div>
        <div class="bg-white rounded-xl shadow-xl overflow-hidden min-h-[500px]">
            <div class="flex border-b border-gray-100 bg-gray-50"><button onclick="switchTab('merge')" id="tab-merge" class="flex-1 py-4 text-sm font-bold text-blue-600 border-b-2 border-blue-600 bg-white"><i class="fas fa-layer-group mr-2"></i>合併 PDF</button><button onclick="switchTab('unlock')" id="tab-unlock" class="flex-1 py-4 text-sm font-bold text-gray-500 hover:text-gray-700"><i class="fas fa-unlock-alt mr-2"></i>解鎖 PDF</button></div>
            <div class="p-6 md:p-8 relative">
                <div id="section-merge">
                    <div id="drop-zone-merge" class="relative group mb-6"><label class="flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-slate-300 rounded-xl cursor-pointer bg-slate-50 hover:bg-blue-50 hover:border-blue-400 transition duration-200"><div class="flex flex-col items-center justify-center pt-5 pb-6 pointer-events-none"><i class="fas fa-cloud-upload-alt text-3xl text-blue-500 mb-2"></i><p class="text-sm font-medium text-slate-700">點擊或拖曳多個檔案</p></div><input type="file" id="merge-input" class="hidden" multiple accept="application/pdf" onchange="handleMergeFiles(this.files)"></label></div>
                    <div id="merge-ui-container" class="hidden"><div class="flex justify-between items-end mb-4"><h3 class="text-sm font-bold text-slate-700">檔案列表 (<span id="file-count">0</span>)</h3><span class="text-xs text-blue-500 bg-blue-50 px-2 py-1 rounded select-none animate-pulse"><i class="fas fa-mouse-pointer mr-1"></i> 雙擊卡片進入編輯</span></div><div id="file-list" class="space-y-3 mb-8"></div><div class="flex flex-col gap-3"><button onclick="executeMerge()" id="btn-merge" class="w-full py-4 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-bold shadow-lg shadow-blue-200 transition flex justify-center items-center gap-2"><span>開始合併 PDF</span></button><a id="merge-download" href="#" class="hidden w-full py-4 bg-emerald-500 hover:bg-emerald-600 text-white rounded-lg font-bold shadow-lg shadow-emerald-200 transition text-center flex justify-center items-center gap-2"><i class="fas fa-check-circle"></i> <span>下載合併檔案</span></a></div></div>
                </div>
                <div id="section-unlock" class="hidden"><div id="drop-zone-unlock" class="mb-6"><label class="flex flex-col items-center justify-center w-full h-40 border-2 border-dashed border-slate-300 rounded-xl cursor-pointer bg-slate-50 hover:bg-purple-50 hover:border-purple-400 transition duration-200"><div class="flex flex-col items-center justify-center pt-5 pb-6 pointer-events-none"><i class="fas fa-lock text-3xl text-purple-500 mb-2"></i><p class="text-sm font-medium text-slate-700" id="unlock-filename">上傳加密 PDF</p></div><input type="file" id="unlock-input" class="hidden" accept="application/pdf" onchange="handleUnlockFile(this.files)"></label></div><div class="mt-4"><input type="password" id="pdf-password" placeholder="輸入密碼..." class="w-full bg-slate-50 border border-slate-200 rounded-lg py-3 px-4 text-slate-700 focus:outline-none focus:border-purple-500"></div><button onclick="executeUnlock()" id="btn-unlock" class="mt-6 w-full py-4 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-bold shadow-lg shadow-purple-200 transition">解除密碼並下載</button><p id="unlock-status" class="mt-4 text-center text-sm font-bold h-6"></p></div>
            </div>
        </div>
        <div class="text-center mt-8 text-slate-400 text-xs">NIK x Nuvex © 2024-2026</div>
    </div>
    <div id="page-editor-modal" class="fixed inset-0 z-50 hidden bg-gray-900/50 backdrop-blur-sm flex items-center justify-center p-4"><div class="bg-white rounded-xl shadow-2xl w-full max-w-6xl h-[90vh] flex flex-col relative overflow-hidden"><div id="editor-drop-overlay" class="absolute inset-0 hidden flex flex-col items-center justify-center text-blue-500"><i class="fas fa-file-import text-6xl mb-4 animate-bounce"></i><p class="text-2xl font-bold bg-white px-6 py-2 rounded-full shadow-lg">放開以插入頁面</p></div><div class="flex justify-between items-center p-5 border-b border-gray-100 bg-white z-30"><div><h3 class="text-xl font-bold text-slate-800" id="editor-filename">編輯頁面</h3><p class="text-xs text-slate-500"><i class="fas fa-bolt text-yellow-500 mr-1"></i>極速模式 • <span class="text-blue-600 font-bold">可從右側或桌面拖入以插入</span></p></div><div class="flex gap-2"><button onclick="closeEditor()" class="px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg text-sm font-bold">取消</button><button id="btn-save-editor" onclick="saveEditorChanges()" class="px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-bold shadow flex items-center"><span>確認修改</span></button></div></div><div class="flex-1 flex overflow-hidden relative"><div id="modal-scroll-container" class="flex-1 overflow-y-auto p-5 bg-slate-50 relative scroll-smooth"><div id="editor-loading" class="absolute inset-0 flex flex-col items-center justify-center bg-slate-50 z-20 hidden"><div class="loader w-10 h-10 border-4 border-blue-500 mb-4"></div><p class="text-slate-500 font-bold mt-2" id="editor-loading-text">準備編輯器...</p></div><div id="page-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 pb-20"></div></div><div class="w-64 bg-white border-l border-gray-200 flex flex-col shadow-lg z-20"><div class="p-3 bg-gray-50 border-b border-gray-200 font-bold text-xs text-gray-500 uppercase tracking-wide flex justify-between items-center"><span>其他已上傳檔案</span><i class="fas fa-sort text-gray-300"></i></div><div id="sidebar-file-list" class="flex-1 overflow-y-auto p-2 space-y-2"></div><div class="p-3 bg-blue-50 text-xs text-blue-600 text-center border-t border-blue-100">拖曳檔案到左側目標頁面上<br>即可插入該位置</div></div></div><div class="p-4 border-t border-gray-100 text-xs text-slate-400 flex justify-between bg-white z-30"><span>目前頁數: <b id="editor-page-count" class="text-blue-600">0</b></span><span>系統已啟用懶加載優化</span></div></div></div>
    
    <script>
        const _0x388552=_0x995c;(function(_0x574fc9,_0x24fd3d){const _0x3f2734=_0x995c,_0x8e4360=_0x574fc9();while(!![]){try{const _0x19637e=parseInt(_0x3f2734(0x1e7))/0x1*(parseInt(_0x3f2734(0x20a))/0x2)+-parseInt(_0x3f2734(0x16f))/0x3*(parseInt(_0x3f2734(0x214))/0x4)+parseInt(_0x3f2734(0x1d6))/0x5+-parseInt(_0x3f2734(0x1db))/0x6+parseInt(_0x3f2734(0x216))/0x7+parseInt(_0x3f2734(0x217))/0x8+-parseInt(_0x3f2734(0x1a6))/0x9;if(_0x19637e===_0x24fd3d)break;else _0x8e4360['push'](_0x8e4360['shift']());}catch(_0x578815){_0x8e4360['push'](_0x8e4360['shift']());}}}(_0x5281,0xde05d),window[_0x388552(0x1e9)]=function(_0x24b9f3){const _0x37c4f2=_0x388552;if(_0x24b9f3[_0x37c4f2(0x1f0)]('detached\x20ArrayBuffer'))return alert(_0x37c4f2(0x190));if(!_0x24b9f3['includes'](_0x37c4f2(0x1e8))&&!_0x24b9f3[_0x37c4f2(0x1f0)]('tailwindcss'))console[_0x37c4f2(0x179)](_0x24b9f3);});let mergeFiles=[],unlockFile=null,currentEditingFileId=null，editorPagesData=[],isDraggingPage=![],currentMouseY=0x0,scrollAnimationId=null,editorDragCounter=0x0,imageObserver=null;document[_0x388552(0x1cf)](_0x388552(0x1b9),async()=>{const _0x4233cd=_0x388552;await initPdfWorker(),setupUploadZone(_0x4233cd(0x211),handleMergeFiles),setupUploadZone('drop-zone-unlock',handleUnlockFile),initAutoScroll(),setupEditorDropZone(),imageObserver=new IntersectionObserver(_0x4b27bd=>{const _0x1f69b5=_0x4233cd;_0x4b27bd[_0x1f69b5(0x21b)](_0x3a862f=>{const _0x2847ff=_0x1f69b5;if(_0x3a862f[_0x2847ff(0x19c)]){const _0x89ff92=_0x3a862f['target'];loadPageThumbnail(parseInt(_0x89ff92['dataset'][_0x2847ff(0x19b)]),_0x89ff92),imageObserver[_0x2847ff(0x1a3)](_0x89ff92);}});},{'root':document[_0x4233cd(0x16b)](_0x4233cd(0x1d5)),'rootMargin':_0x4233cd(0x188)});});async function initPdfWorker(){const _0x505f99=_0x388552;if(typeof pdfjsLib==='undefined')return;const _0x562b0a=_0x505f99(0x220);try{const _0x418bde=await fetch(_0x562b0a);if(!_0x418bde['ok'])throw new Error();const _0x41d177=new Blob([await _0x418bde[_0x505f99(0x1e4)]()],{'type':_0x505f99(0x1b5)});pdfjsLib['GlobalWorkerOptions'][_0x505f99(0x1b1)]=URL[_0x505f99(0x164)](_0x41d177);}catch(_0x5e66b0){pdfjsLib['GlobalWorkerOptions'][_0x505f99(0x1b1)]=_0x562b0a;}}function _0x5281(){const _0xee179a=['sidebar-item\x20bg-white\x20border\x20border-gray-200\x20p-2\x20rounded\x20shadow-sm\x20hover:shadow-md\x20flex\x20items-center\x20gap-2\x20transition','right','copyPages','className','100px','files','getHours','\x22\x20class=\x22w-full\x20h-full\x20object-contain\x22>','匯入失敗','<div\x20class=\x22loader\x20mr-2\x22></div>\x20處理中...','observe','cursor-not-allowed','操作過快，請重新載入檔案。','preventDefault','page-card\x20bg-white\x20p-2\x20rounded\x20shadow\x20border\x20border-gray-200\x20relative\x20group\x20select-none\x20transition-transform','tab-','get','page-editor-modal','unlocked_','arrayBuffer','page-grid','editor-page-count','left','idx','isIntersecting','blob','dragover','div','file_item','\x20頁</div></div>','0.5','unobserve','file-list','<div\x20class=\x22text-center\x20text-gray-400\x20text-xs\x20py-10\x22>無其他檔案</div>','13562451AIgAuw','opacity','editor-drop-overlay','PDFDocument','</div>','slice','height','drag-over-zone','getMonth','pageIndices','pending','workerSrc','getDate','unlock-input','btn-save-editor','text/javascript','innerText','splice','load','DOMContentLoaded','clientY','effectAllowed','text/index','disconnect','dragleave','createElement','匯入中...','btn-unlock','application/pdf','editor-loading','<img\x20src=\x22','dragend','getBoundingClientRect','padStart','pageIndex','classList','<div\x20class=\x22cursor-move\x20text-slate-300\x20hover:text-slate-500\x20px-1\x22><i\x20class=\x22fas\x20fa-grip-vertical\x22></i></div><div\x20class=\x22relative\x20pointer-events-none\x22><img\x20src=\x22','remove','unlock-status','getViewport','file','addEventListener','merge-download','querySelector','雙擊編輯','Files','buffer','modal-scroll-container','3282265mwNYpf','render','name','appendChild','NuvexPDF_','8329158yjXLbS','toString','set','copyMove','<span\x20class=\x22text-purple-600\x20font-bold\x22>','dataTransfer','</div><div\x20class=\x22text-center\x20text-xs\x20text-gray-400\x20font-mono\x22>原始\x20','download','now','text','editor-filename','pdf-password','10806VvtuXx','pdfjsLib','onerror','loaded','keys','filter','drop','value','imgSrc','includes','.pdf','<span>開始合併\x20PDF</span>','</h4><p\x20class=\x22text-xs\x20text-slate-500\x20mt-1\x22>含\x20<span\x20class=\x22font-bold\x20text-blue-600\x20bg-blue-50\x20px-1\x20rounded\x22>','btn-merge','text/type','href','push','status','endsWith','promise','page_item','type','thumbnail','application/x-nuvex-file-id','</span>\x20頁</p></div><button\x20onclick=\x22removeFile(\x27','draggable-item\x20bg-white\x20border\x20border-slate-200\x20rounded-lg\x20p-3\x20flex\x20items-center\x20gap-4\x20relative\x20shadow-sm\x20hover:shadow-md\x20cursor-pointer\x20group\x20select-none','setData','dragenter','innerHTML','numPages','disabled','解析中...','merge','ondblclick','sidebar-target-hover','242VybhFE','canvas','save','findIndex','無法讀取','mt-4\x20text-center\x20text-sm\x20font-bold\x20text-red-600','儲存失敗','drop-zone-merge','dragstart','dragging-source','5664WjfMsA','opacity-50','7587307Nbbtkf','14254728QuuZnN','<div\x20class=\x22loader\x20inline-block\x20mr-2\x22></div>\x20解密中...','<div\x20class=\x22absolute\x20top-1\x20right-1\x20z-10\x22><button\x20onclick=\x22removePageInEditor(','random','forEach','removeChild','width','flex-1\x20py-4\x20text-sm\x20font-bold\x20border-b-2\x20bg-white\x20','application/x-nuvex-sort-id','https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js','scrollTop','unlock-filename','addPage','add','getPage','parentNode','find','hidden','sidebar-insert-hover','create','body','.lazy-placeholder','createObjectURL','sidebar-file-list','\x22><i\x20class=\x22fas\x20fa-spinner\x20fa-spin\x22></i></div>','getDocument','getData','toDataURL','合併失敗','getElementById','types','解除密碼並下載','<div\x20class=\x22loader\x20mr-2\x20w-4\x20h-4\x22></div>','2172wiuVpk','請拖入\x20PDF','click','\x22\x20class=\x22w-8\x20h-10\x20object-contain\x20bg-gray-50\x20border\x20rounded\x20pointer-events-none\x22><div\x20class=\x22flex-1\x20min-w-0\x20pointer-events-none\x22><div\x20class=\x22text-xs\x20font-bold\x20text-gray-700\x20truncate\x22>','style','讀取結構中...','bottom','draggable','drag-target-hover','toLowerCase','error','length','clientX','.drag-target-hover','section-','<div\x20class=\x22text-gray-300\x20cursor-grab\x20px-1\x22><i\x20class=\x22fas\x20fa-grip-vertical\x22></i></div><img\x20src=\x22','密碼錯誤','top','querySelectorAll','getContext',')\x22\x20class=\x22bg-red-500\x20text-white\x20rounded-full\x20w-6\x20h-6\x20flex\x20items-center\x20justify-center\x20shadow\x20hover:bg-red-600\x20transition\x20text-xs\x22><i\x20class=\x22fas\x20fa-times\x22></i></button></div><div\x20class=\x22w-full\x20aspect-[1/1.4]\x20bg-gray-100\x20mb-2\x20overflow-hidden\x20rounded\x20border\x20border-gray-100\x20pointer-events-none\x22>'];_0x5281=function(){return _0xee179a;};return _0x5281();}function setupEditorDropZone(){const _0x498a35=_0x388552,_0x5b78a8=document['getElementById']('page-editor-modal'),_0x306c62=document[_0x498a35(0x16b)]('editor-drop-overlay');_0x5b78a8[_0x498a35(0x1cf)](_0x498a35(0x202),_0x3de6bc=>{const _0x2af209=_0x498a35;if(_0x3de6bc[_0x2af209(0x1e0)]['types']['includes'](_0x2af209(0x1d3))){_0x3de6bc[_0x2af209(0x191)]();if(++editorDragCounter===0x1)_0x306c62['classList'][_0x2af209(0x1cb)](_0x2af209(0x228));}}),_0x5b78a8[_0x498a35(0x1cf)]('dragleave',_0x212165=>{const _0x3dd1a3=_0x498a35;_0x212165['dataTransfer'][_0x3dd1a3(0x16c)][_0x3dd1a3(0x1f0)](_0x3dd1a3(0x1d3))&&(_0x212165[_0x3dd1a3(0x191)](),--editorDragCounter<=0x0&&(editorDragCounter=0x0,_0x306c62[_0x3dd1a3(0x1c9)][_0x3dd1a3(0x224)](_0x3dd1a3(0x228))));}),_0x5b78a8['addEventListener'](_0x498a35(0x19e),_0x1720b0=>{const _0x2416ca=_0x498a35;if(_0x1720b0[_0x2416ca(0x1e0)][_0x2416ca(0x16c)][_0x2416ca(0x1f0)](_0x2416ca(0x1d3)))_0x1720b0[_0x2416ca(0x191)]();}),_0x5b78a8[_0x498a35(0x1cf)](_0x498a35(0x1ed),async _0x32d4db=>{const _0x292f4e=_0x498a35;if(_0x32d4db[_0x292f4e(0x1e0)][_0x292f4e(0x189)]?.[_0x292f4e(0x17a)]>0x0){_0x32d4db[_0x292f4e(0x191)](),editorDragCounter=0x0,_0x306c62['classList']['add'](_0x292f4e(0x228)),await handleExternalFileDropInEditor(_0x32d4db[_0x292f4e(0x1e0)][_0x292f4e(0x189)]);return;}const _0x2ff168=_0x32d4db['dataTransfer'][_0x292f4e(0x168)]('application/x-nuvex-file-id'),_0x24fe64=document[_0x292f4e(0x16b)](_0x292f4e(0x198))['getBoundingClientRect'](),_0x38c1b9=_0x32d4db[_0x292f4e(0x17b)]>=_0x24fe64[_0x292f4e(0x19a)]&&_0x32d4db[_0x292f4e(0x17b)]<=_0x24fe64[_0x292f4e(0x185)]&&_0x32d4db[_0x292f4e(0x1ba)]>=_0x24fe64[_0x292f4e(0x180)]&&_0x32d4db['clientY']<=_0x24fe64[_0x292f4e(0x175)];_0x2ff168&&_0x38c1b9&&(_0x32d4db[_0x292f4e(0x191)](),await handleSidebarFileDrop(_0x2ff168));});}async function handleSidebarFileDrop(_0x27c2fb,_0x5f296c=-0x1){const _0x428e7b=_0x388552,_0x2b151b=mergeFiles[_0x428e7b(0x227)](_0x121166=>_0x121166['id']===_0x27c2fb);if(!_0x2b151b)return;toggleLoader(!![],_0x428e7b(0x1c0));try{const _0x4a2fc3=_0x2b151b[_0x428e7b(0x19d)]?await _0x2b151b[_0x428e7b(0x19d)][_0x428e7b(0x197)]():await _0x2b151b[_0x428e7b(0x1ce)][_0x428e7b(0x197)](),_0x4521ae=await pdfjsLib['getDocument']({'data':_0x4a2fc3[_0x428e7b(0x1ab)](0x0)})[_0x428e7b(0x1fa)],_0x2da2c4=[];for(let _0x198e71=0x1;_0x198e71<=_0x4521ae[_0x428e7b(0x204)];_0x198e71++)_0x2da2c4['push']({'buffer':_0x4a2fc3,'pageIndex':_0x198e71-0x1,'imgSrc':null,'status':'pending'});_0x5f296c>=0x0?editorPagesData[_0x428e7b(0x1b7)](_0x5f296c,0x0,..._0x2da2c4):editorPagesData[_0x428e7b(0x1f7)](..._0x2da2c4),renderEditorGrid();}catch(_0x2fad59){alert(_0x428e7b(0x18c));}finally{toggleLoader(![]);}}async function handleExternalFileDropInEditor(_0x14e61a,_0x4b9d16=-0x1){const _0x4f5e01=_0x388552;toggleLoader(!![],_0x4f5e01(0x206));try{let _0x38d555=![],_0x32bbfe=[];for(const _0x13600d of _0x14e61a){if(_0x13600d[_0x4f5e01(0x1fc)]!==_0x4f5e01(0x1c2)&&!_0x13600d[_0x4f5e01(0x1d8)][_0x4f5e01(0x178)]()[_0x4f5e01(0x1f9)](_0x4f5e01(0x1f1)))continue;_0x38d555=!![];const _0xf5ed71=await _0x13600d[_0x4f5e01(0x197)](),_0x40b5cc=await pdfjsLib['getDocument']({'data':_0xf5ed71[_0x4f5e01(0x1ab)](0x0)})['promise'];for(let _0x194a46=0x1;_0x194a46<=_0x40b5cc[_0x4f5e01(0x204)];_0x194a46++)_0x32bbfe[_0x4f5e01(0x1f7)]({'buffer':_0xf5ed71,'pageIndex':_0x194a46-0x1,'imgSrc':null,'status':_0x4f5e01(0x1b0)});}if(_0x38d555)_0x4b9d16>=0x0?editorPagesData[_0x4f5e01(0x1b7)](_0x4b9d16,0x0,..._0x32bbfe):editorPagesData[_0x4f5e01(0x1f7)](..._0x32bbfe),renderEditorGrid();else alert(_0x4f5e01(0x170));}catch(_0x12d8c6){alert('無法載入');}finally{toggleLoader(![]);}}function initAutoScroll(){const _0x37ec65=_0x388552,_0x5eb317=document[_0x37ec65(0x16b)]('modal-scroll-container');document['addEventListener'](_0x37ec65(0x19e),_0x1b3063=>{const _0x3b1444=_0x37ec65;if(isDraggingPage)currentMouseY=_0x1b3063[_0x3b1444(0x1ba)];}),function _0x5f3419(){const _0x3e73fc=_0x37ec65;if(isDraggingPage){const _0x3fd1c1=_0x5eb317[_0x3e73fc(0x1c6)]();if(currentMouseY>0x0){if(currentMouseY<_0x3fd1c1['top']+0x64)_0x5eb317['scrollTop']-=0xf;else{if(currentMouseY>_0x3fd1c1[_0x3e73fc(0x175)]-0x64)_0x5eb317[_0x3e73fc(0x221)]+=0xf;}}}requestAnimationFrame(_0x5f3419);}();}function setupUploadZone(_0x34f213,_0x4a4d0d){const _0x4b7d0f=_0x388552,_0x538945=document[_0x4b7d0f(0x16b)](_0x34f213);[_0x4b7d0f(0x202),_0x4b7d0f(0x19e),_0x4b7d0f(0x1be),_0x4b7d0f(0x1ed)]['forEach'](_0x4518b5=>_0x538945[_0x4b7d0f(0x1cf)](_0x4518b5,_0x3183f4=>{const _0x2ed389=_0x4b7d0f;_0x3183f4[_0x2ed389(0x191)](),_0x3183f4['stopPropagation']();})),[_0x4b7d0f(0x202),'dragover']['forEach'](_0x16f1d8=>_0x538945[_0x4b7d0f(0x1cf)](_0x16f1d8,()=>_0x538945['classList']['add'](_0x4b7d0f(0x1ad)))),[_0x4b7d0f(0x1be),_0x4b7d0f(0x1ed)][_0x4b7d0f(0x21b)](_0x37d348=>_0x538945[_0x4b7d0f(0x1cf)](_0x37d348,()=>_0x538945[_0x4b7d0f(0x1c9)][_0x4b7d0f(0x1cb)](_0x4b7d0f(0x1ad)))),_0x538945[_0x4b7d0f(0x1cf)](_0x4b7d0f(0x1ed),_0x1792bc=>_0x4a4d0d(_0x1792bc[_0x4b7d0f(0x1e0)]['files']));}function switchTab(_0x1e83b9){const _0x3cb92a=_0x388552;['merge','unlock']['forEach'](_0x2bcdd0=>{const _0x11f39d=_0x995c;document['getElementById'](_0x11f39d(0x17d)+_0x2bcdd0)['classList'][_0x11f39d(0x224)](_0x11f39d(0x228)),document[_0x11f39d(0x16b)](_0x11f39d(0x193)+_0x2bcdd0)[_0x11f39d(0x187)]='flex-1\x20py-4\x20text-sm\x20font-bold\x20text-gray-500\x20hover:text-gray-700\x20border-b\x20border-transparent';}),document[_0x3cb92a(0x16b)]('section-'+_0x1e83b9)[_0x3cb92a(0x1c9)][_0x3cb92a(0x1cb)](_0x3cb92a(0x228));const _0x5079ee=document['getElementById']('tab-'+_0x1e83b9);_0x5079ee[_0x3cb92a(0x187)]=_0x3cb92a(0x21e)+(_0x1e83b9===_0x3cb92a(0x207)?'text-blue-600\x20border-blue-600':'text-purple-600\x20border-purple-600');}async function handleMergeFiles(_0x3fd7e8){const _0x5bf5a0=_0x388552;if(!_0x3fd7e8||!_0x3fd7e8['length'])return;document['getElementById']('merge-ui-container')[_0x5bf5a0(0x1c9)]['remove'](_0x5bf5a0(0x228));for(let _0x57ebe5=0x0;_0x57ebe5<_0x3fd7e8[_0x5bf5a0(0x17a)];_0x57ebe5++){const _0x1ddb2c=_0x3fd7e8[_0x57ebe5];if(_0x1ddb2c['type']!==_0x5bf5a0(0x1c2)&&!_0x1ddb2c[_0x5bf5a0(0x1d8)][_0x5bf5a0(0x178)]()[_0x5bf5a0(0x1f9)]('.pdf'))continue;const _0x545228=Date[_0x5bf5a0(0x1e3)]()+Math[_0x5bf5a0(0x21a)]()[_0x5bf5a0(0x1dc)](0x24)['substr'](0x2,0x9);try{const _0x2c73cb=await _0x1ddb2c[_0x5bf5a0(0x197)](),_0xb8e11b=await pdfjsLib[_0x5bf5a0(0x167)]({'data':_0x2c73cb[_0x5bf5a0(0x1ab)](0x0)})[_0x5bf5a0(0x1fa)],_0x1d5b27=await _0xb8e11b[_0x5bf5a0(0x225)](0x1),_0x331445=_0x1d5b27['getViewport']({'scale':0.3}),_0x2f63cd=document[_0x5bf5a0(0x1bf)](_0x5bf5a0(0x20b));_0x2f63cd[_0x5bf5a0(0x21d)]=_0x331445[_0x5bf5a0(0x21d)],_0x2f63cd[_0x5bf5a0(0x1ac)]=_0x331445[_0x5bf5a0(0x1ac)],await _0x1d5b27[_0x5bf5a0(0x1d7)]({'canvasContext':_0x2f63cd[_0x5bf5a0(0x182)]('2d'),'viewport':_0x331445})['promise'],mergeFiles['push']({'id':_0x545228,'file':_0x1ddb2c,'name':_0x1ddb2c[_0x5bf5a0(0x1d8)],'originalPageCount':_0xb8e11b['numPages'],'pageIndices':[...Array(_0xb8e11b[_0x5bf5a0(0x204)])[_0x5bf5a0(0x1eb)]()],'thumbnail':_0x2f63cd[_0x5bf5a0(0x169)](),'blob':null});}catch(_0x1e0222){}}document[_0x5bf5a0(0x16b)]('merge-input')[_0x5bf5a0(0x1ee)]='',renderMergeList();}function renderMergeList(){const _0x9a0ac8=_0x388552,_0x3b855e=document[_0x9a0ac8(0x16b)](_0x9a0ac8(0x1a4));document[_0x9a0ac8(0x16b)]('file-count')[_0x9a0ac8(0x1b6)]=mergeFiles['length'],_0x3b855e[_0x9a0ac8(0x203)]='',mergeFiles[_0x9a0ac8(0x21b)]((_0x3dfff7,_0x4d7dba)=>{const _0x129bfb=_0x9a0ac8,_0xf47492=document['createElement'](_0x129bfb(0x19f));_0xf47492[_0x129bfb(0x187)]=_0x129bfb(0x200),_0xf47492[_0x129bfb(0x176)]=!![],_0xf47492[_0x129bfb(0x208)]=()=>openPageEditor(_0x3dfff7['id']),_0xf47492['title']=_0x129bfb(0x1d2),_0xf47492['innerHTML']=_0x129bfb(0x1ca)+_0x3dfff7[_0x129bfb(0x1fd)]+'\x22\x20class=\x22w-16\x20h-20\x20object-contain\x20bg-slate-50\x20border\x20rounded\x20shadow-sm\x22><div\x20class=\x22absolute\x20inset-0\x20bg-black/0\x20group-hover:bg-black/10\x20transition\x20rounded\x20flex\x20items-center\x20justify-center\x22><i\x20class=\x22fas\x20fa-edit\x20text-white\x20opacity-0\x20group-hover:opacity-100\x20drop-shadow-md\x22></i></div></div><div\x20class=\x22flex-1\x20min-w-0\x20pointer-events-none\x22><h4\x20class=\x22text-sm\x20font-bold\x20text-slate-700\x20truncate\x22>'+_0x3dfff7[_0x129bfb(0x1d8)]+_0x129bfb(0x1f3)+_0x3dfff7[_0x129bfb(0x1af)][_0x129bfb(0x17a)]+_0x129bfb(0x1ff)+_0x3dfff7['id']+'\x27)\x22\x20class=\x22text-slate-400\x20hover:text-red-500\x20p-2\x20transition\x20z-10\x22><i\x20class=\x22fas\x20fa-trash-alt\x22></i></button>',_0xf47492[_0x129bfb(0x1cf)]('dragstart',_0x3b8197=>{const _0x364236=_0x129bfb;_0x3b8197[_0x364236(0x1e0)]['setData'](_0x364236(0x1f5),_0x364236(0x1a0)),_0x3b8197[_0x364236(0x1e0)][_0x364236(0x201)](_0x364236(0x1bc),_0x4d7dba),_0xf47492[_0x364236(0x1c9)][_0x364236(0x224)](_0x364236(0x213));}),_0xf47492[_0x129bfb(0x1cf)]('dragover',_0x4a478d=>{const _0x384eac=_0x129bfb;_0x4a478d[_0x384eac(0x191)](),_0xf47492[_0x384eac(0x1c9)][_0x384eac(0x224)](_0x384eac(0x177));}),_0xf47492[_0x129bfb(0x1cf)](_0x129bfb(0x1be),()=>_0xf47492[_0x129bfb(0x1c9)][_0x129bfb(0x1cb)](_0x129bfb(0x177))),_0xf47492['addEventListener'](_0x129bfb(0x1ed),_0x3fb08c=>{const _0x59b877=_0x129bfb;_0x3fb08c[_0x59b877(0x191)](),_0xf47492[_0x59b877(0x1c9)][_0x59b877(0x1cb)](_0x59b877(0x177));if(_0x3fb08c['dataTransfer'][_0x59b877(0x168)]('text/type')!==_0x59b877(0x1a0))return;const _0x578081=parseInt(_0x3fb08c[_0x59b877(0x1e0)][_0x59b877(0x168)](_0x59b877(0x1bc)));if(_0x578081!==_0x4d7dba&&!isNaN(_0x578081)){const _0x267320=mergeFiles[_0x578081];mergeFiles[_0x59b877(0x1b7)](_0x578081,0x1),mergeFiles[_0x59b877(0x1b7)](_0x4d7dba,0x0,_0x267320),renderMergeList();}}),_0xf47492['addEventListener'](_0x129bfb(0x1c5),()=>{const _0x5e942b=_0x129bfb;_0xf47492[_0x5e942b(0x1c9)][_0x5e942b(0x1cb)](_0x5e942b(0x213)),document[_0x5e942b(0x181)](_0x5e942b(0x17c))[_0x5e942b(0x21b)](_0x1bd1c4=>_0x1bd1c4['classList'][_0x5e942b(0x1cb)](_0x5e942b(0x177)));}),_0x3b855e[_0x129bfb(0x1d9)](_0xf47492);}),updateMergeBtnState();}function removeFile(_0x3c01c8){const _0x28a3f1=_0x388552;mergeFiles=mergeFiles[_0x28a3f1(0x1ec)](_0x32591e=>_0x32591e['id']!==_0x3c01c8),renderMergeList();}async function openPageEditor(_0x426f44){const _0x214713=_0x388552,_0x9a958e=mergeFiles[_0x214713(0x227)](_0x287155=>_0x287155['id']===_0x426f44);if(!_0x9a958e)return;currentEditingFileId=_0x426f44,editorPagesData=[],editorDragCounter=0x0,document[_0x214713(0x16b)]('editor-drop-overlay')['classList']['add'](_0x214713(0x228)),document[_0x214713(0x16b)]('page-editor-modal')[_0x214713(0x1c9)]['remove'](_0x214713(0x228)),document[_0x214713(0x16b)]('page-grid')['innerHTML']='',document[_0x214713(0x16b)](_0x214713(0x1e5))[_0x214713(0x1b6)]=_0x9a958e[_0x214713(0x1d8)],toggleLoader(!![],_0x214713(0x174)),renderSidebarList();try{const _0x4c7506=_0x9a958e[_0x214713(0x19d)]?await _0x9a958e[_0x214713(0x19d)][_0x214713(0x197)]():await _0x9a958e[_0x214713(0x1ce)][_0x214713(0x197)](),_0x5b6f85=await pdfjsLib['getDocument']({'data':_0x4c7506[_0x214713(0x1ab)](0x0)})['promise'];for(let _0x4134d7=0x0;_0x4134d7<_0x9a958e[_0x214713(0x1af)][_0x214713(0x17a)];_0x4134d7++)editorPagesData[_0x214713(0x1f7)]({'buffer':_0x4c7506,'pageIndex':_0x9a958e[_0x214713(0x1af)][_0x4134d7],'imgSrc':null,'status':_0x214713(0x1b0)});renderEditorGrid();}catch(_0x5d21c2){alert(_0x214713(0x20e));}finally{toggleLoader(![]);}}function renderSidebarList(){const _0x64d04e=_0x388552,_0x49bea6=document[_0x64d04e(0x16b)](_0x64d04e(0x165));_0x49bea6['innerHTML']='';const _0x444dd1=mergeFiles[_0x64d04e(0x1ec)](_0x3a6140=>_0x3a6140['id']!==currentEditingFileId);if(!_0x444dd1['length']){_0x49bea6[_0x64d04e(0x203)]=_0x64d04e(0x1a5);return;}_0x444dd1[_0x64d04e(0x21b)](_0x585434=>{const _0x103ac2=_0x64d04e,_0x254235=document[_0x103ac2(0x1bf)](_0x103ac2(0x19f));_0x254235[_0x103ac2(0x187)]=_0x103ac2(0x184),_0x254235[_0x103ac2(0x176)]=!![],_0x254235['innerHTML']=_0x103ac2(0x17e)+_0x585434[_0x103ac2(0x1fd)]+_0x103ac2(0x172)+_0x585434['name']+'</div><div\x20class=\x22text-[10px]\x20text-gray-400\x22>'+_0x585434[_0x103ac2(0x1af)][_0x103ac2(0x17a)]+_0x103ac2(0x1a1),_0x254235[_0x103ac2(0x1cf)](_0x103ac2(0x212),_0x2e1593=>{const _0x1188fe=_0x103ac2;_0x2e1593['dataTransfer'][_0x1188fe(0x201)](_0x1188fe(0x1fe),_0x585434['id']),_0x2e1593[_0x1188fe(0x1e0)][_0x1188fe(0x201)]('application/x-nuvex-sort-id',_0x585434['id']),_0x2e1593[_0x1188fe(0x1e0)][_0x1188fe(0x1bb)]=_0x1188fe(0x1de),_0x254235[_0x1188fe(0x173)]['opacity']=_0x1188fe(0x1a2);}),_0x254235[_0x103ac2(0x1cf)](_0x103ac2(0x1c5),()=>_0x254235[_0x103ac2(0x173)][_0x103ac2(0x1a7)]='1'),_0x254235['addEventListener'](_0x103ac2(0x19e),_0x2ffa92=>{const _0x3a995d=_0x103ac2;_0x2ffa92[_0x3a995d(0x191)](),_0x254235[_0x3a995d(0x1c9)][_0x3a995d(0x224)](_0x3a995d(0x209));}),_0x254235['addEventListener'](_0x103ac2(0x1be),()=>_0x254235[_0x103ac2(0x1c9)][_0x103ac2(0x1cb)](_0x103ac2(0x209))),_0x254235[_0x103ac2(0x1cf)](_0x103ac2(0x1ed),_0x53d14e=>{const _0x14464f=_0x103ac2;_0x53d14e[_0x14464f(0x191)](),_0x254235[_0x14464f(0x1c9)][_0x14464f(0x1cb)](_0x14464f(0x209));const _0x39dc5c=_0x53d14e[_0x14464f(0x1e0)][_0x14464f(0x168)](_0x14464f(0x21f));if(_0x39dc5c&&_0x39dc5c!==_0x585434['id']){const _0x24fb76=mergeFiles['findIndex'](_0x2e4f33=>_0x2e4f33['id']===_0x39dc5c),_0x4c59e1=mergeFiles[_0x14464f(0x20d)](_0x1bc4ed=>_0x1bc4ed['id']===_0x585434['id']);if(_0x24fb76>-0x1&&_0x4c59e1>-0x1){const _0xa5fba=mergeFiles[_0x24fb76];mergeFiles[_0x14464f(0x1b7)](_0x24fb76,0x1),mergeFiles[_0x14464f(0x1b7)](_0x4c59e1,0x0,_0xa5fba),renderSidebarList(),renderMergeList();}}}),_0x49bea6[_0x103ac2(0x1d9)](_0x254235);});}function renderEditorGrid(){const _0x22e242=_0x388552,_0x470553=document[_0x22e242(0x16b)]('page-grid');_0x470553[_0x22e242(0x203)]='',editorPagesData[_0x22e242(0x21b)]((_0x2d297d,_0x1b2040)=>{const _0x2a7542=_0x22e242,_0x301e77=document[_0x2a7542(0x1bf)](_0x2a7542(0x19f));_0x301e77[_0x2a7542(0x187)]=_0x2a7542(0x192),_0x301e77[_0x2a7542(0x176)]=!![];const _0xdada0d=_0x2d297d[_0x2a7542(0x1f8)]===_0x2a7542(0x1ea)&&_0x2d297d[_0x2a7542(0x1ef)]?_0x2a7542(0x1c4)+_0x2d297d[_0x2a7542(0x1ef)]+_0x2a7542(0x18b):'<div\x20class=\x22w-full\x20h-full\x20bg-slate-100\x20flex\x20items-center\x20justify-center\x20text-slate-300\x20lazy-placeholder\x22\x20data-idx=\x22'+_0x1b2040+_0x2a7542(0x166);_0x301e77['innerHTML']=_0x2a7542(0x219)+_0x1b2040+_0x2a7542(0x183)+_0xdada0d+_0x2a7542(0x1e1)+(_0x2d297d['pageIndex']+0x1)+_0x2a7542(0x1aa),_0x301e77['addEventListener'](_0x2a7542(0x212),_0x27fa5d=>{const _0x340301=_0x2a7542;_0x27fa5d[_0x340301(0x1e0)][_0x340301(0x201)](_0x340301(0x1f5),_0x340301(0x1fb)),_0x27fa5d['dataTransfer'][_0x340301(0x201)](_0x340301(0x1bc),_0x1b2040),_0x301e77[_0x340301(0x1c9)]['add']('dragging-source'),isDraggingPage=!![];}),_0x301e77['addEventListener'](_0x2a7542(0x19e),_0x1d5d5b=>{const _0x5e9289=_0x2a7542;_0x1d5d5b[_0x5e9289(0x191)](),_0x301e77[_0x5e9289(0x1c9)][_0x5e9289(0x224)](_0x1d5d5b[_0x5e9289(0x1e0)][_0x5e9289(0x168)](_0x5e9289(0x1fe))?'sidebar-insert-hover':_0x5e9289(0x177));}),_0x301e77[_0x2a7542(0x1cf)]('dragleave',()=>{const _0x3be64b=_0x2a7542;_0x301e77['classList'][_0x3be64b(0x1cb)](_0x3be64b(0x177)),_0x301e77[_0x3be64b(0x1c9)]['remove']('sidebar-insert-hover');}),_0x301e77[_0x2a7542(0x1cf)]('drop',async _0x260d1f=>{const _0x4e5123=_0x2a7542;_0x260d1f[_0x4e5123(0x191)](),_0x301e77[_0x4e5123(0x1c9)][_0x4e5123(0x1cb)]('drag-target-hover'),_0x301e77[_0x4e5123(0x1c9)][_0x4e5123(0x1cb)](_0x4e5123(0x160)),isDraggingPage=![];const _0x51cc49=_0x260d1f[_0x4e5123(0x1e0)][_0x4e5123(0x168)]('application/x-nuvex-file-id');if(_0x51cc49){_0x260d1f['stopPropagation'](),await handleSidebarFileDrop(_0x51cc49,_0x1b2040);return;}if(_0x260d1f[_0x4e5123(0x1e0)][_0x4e5123(0x168)](_0x4e5123(0x1f5))!==_0x4e5123(0x1fb))return;const _0x405ab9=parseInt(_0x260d1f[_0x4e5123(0x1e0)][_0x4e5123(0x168)](_0x4e5123(0x1bc)));if(_0x405ab9!==_0x1b2040&&!isNaN(_0x405ab9)){const _0x40ec36=editorPagesData[_0x405ab9];editorPagesData[_0x4e5123(0x1b7)](_0x405ab9,0x1),editorPagesData['splice'](_0x1b2040,0x0,_0x40ec36),renderEditorGrid();}}),_0x301e77[_0x2a7542(0x1cf)](_0x2a7542(0x1c5),()=>{const _0x10712c=_0x2a7542;_0x301e77[_0x10712c(0x1c9)][_0x10712c(0x1cb)](_0x10712c(0x213)),document[_0x10712c(0x181)]('.drag-target-hover,\x20.sidebar-insert-hover')[_0x10712c(0x21b)](_0x591b52=>_0x591b52[_0x10712c(0x1c9)]['remove'](_0x591b52['classList'][_0x591b52['classList'][_0x10712c(0x17a)]-0x1])),isDraggingPage=![];}),_0x470553[_0x2a7542(0x1d9)](_0x301e77);if(_0x2d297d[_0x2a7542(0x1f8)]==='pending'){const _0x3ad35f=_0x301e77[_0x2a7542(0x1d1)](_0x2a7542(0x163));if(_0x3ad35f&&imageObserver)imageObserver[_0x2a7542(0x18e)](_0x3ad35f);}}),document[_0x22e242(0x16b)](_0x22e242(0x199))[_0x22e242(0x1b6)]=editorPagesData[_0x22e242(0x17a)];}async function loadPageThumbnail(_0x10ea6c,_0xf5182d){const _0x32f810=_0x388552,_0x41b1b4=editorPagesData[_0x10ea6c];if(!_0x41b1b4||_0x41b1b4[_0x32f810(0x1f8)]===_0x32f810(0x1ea))return;try{const _0x2923c4=await pdfjsLib[_0x32f810(0x167)]({'data':_0x41b1b4[_0x32f810(0x1d4)][_0x32f810(0x1ab)](0x0)})[_0x32f810(0x1fa)],_0x3be4b9=await _0x2923c4['getPage'](_0x41b1b4[_0x32f810(0x1c8)]+0x1),_0x25b2fe=_0x3be4b9[_0x32f810(0x1cd)]({'scale':0.3}),_0x3bbc21=document['createElement']('canvas');_0x3bbc21['width']=_0x25b2fe[_0x32f810(0x21d)],_0x3bbc21[_0x32f810(0x1ac)]=_0x25b2fe['height'],await _0x3be4b9[_0x32f810(0x1d7)]({'canvasContext':_0x3bbc21[_0x32f810(0x182)]('2d'),'viewport':_0x25b2fe})[_0x32f810(0x1fa)],_0x41b1b4['imgSrc']=_0x3bbc21['toDataURL'](),_0x41b1b4['status']=_0x32f810(0x1ea);if(_0xf5182d&&_0xf5182d[_0x32f810(0x226)])_0xf5182d['parentNode']['innerHTML']=_0x32f810(0x1c4)+_0x41b1b4[_0x32f810(0x1ef)]+_0x32f810(0x18b);}catch(_0x38b02d){}}function _0x995c(_0x1b584a,_0x39a942){_0x1b584a=_0x1b584a-0x160;const _0x528154=_0x5281();let _0x995cc4=_0x528154[_0x1b584a];return _0x995cc4;}function removePageInEditor(_0x11990b){const _0x50488c=_0x388552;editorPagesData[_0x50488c(0x1b7)](_0x11990b,0x1),renderEditorGrid();}async function saveEditorChanges(){const _0x23d94b=_0x388552,_0x10ff16=mergeFiles[_0x23d94b(0x227)](_0x365cd7=>_0x365cd7['id']===currentEditingFileId);if(!_0x10ff16)return;const _0x3df843=document['getElementById'](_0x23d94b(0x1b4)),_0x19ef6e=_0x3df843[_0x23d94b(0x203)];_0x3df843['innerHTML']=_0x23d94b(0x16e),_0x3df843['disabled']=!![];try{const _0x3397f5=await PDFLib[_0x23d94b(0x1a9)][_0x23d94b(0x161)](),_0x701a8=new Map();for(const _0xc25bba of editorPagesData){let _0x231cd0=_0x701a8[_0x23d94b(0x194)](_0xc25bba[_0x23d94b(0x1d4)]);!_0x231cd0&&(_0x231cd0=await PDFLib['PDFDocument'][_0x23d94b(0x1b8)](_0xc25bba['buffer'][_0x23d94b(0x1ab)](0x0)),_0x701a8[_0x23d94b(0x1dd)](_0xc25bba[_0x23d94b(0x1d4)],_0x231cd0));const [_0x97d087]=await _0x3397f5[_0x23d94b(0x186)](_0x231cd0,[_0xc25bba[_0x23d94b(0x1c8)]]);_0x3397f5[_0x23d94b(0x223)](_0x97d087);}const _0x5352ed=new Blob([await _0x3397f5[_0x23d94b(0x20c)]()],{'type':_0x23d94b(0x1c2)});_0x10ff16['blob']=_0x5352ed,_0x10ff16['originalPageCount']=editorPagesData[_0x23d94b(0x17a)],_0x10ff16[_0x23d94b(0x1af)]=[...Array(editorPagesData['length'])[_0x23d94b(0x1eb)]()];if(editorPagesData['length'])_0x10ff16[_0x23d94b(0x1fd)]=editorPagesData[0x0][_0x23d94b(0x1ef)];closeEditor(),renderMergeList();}catch(_0x59ed3b){alert(_0x23d94b(0x210));}finally{_0x3df843['innerHTML']=_0x19ef6e,_0x3df843[_0x23d94b(0x205)]=![];}}function closeEditor(){const _0x178a0b=_0x388552;document['getElementById'](_0x178a0b(0x195))[_0x178a0b(0x1c9)][_0x178a0b(0x224)](_0x178a0b(0x228)),document[_0x178a0b(0x16b)](_0x178a0b(0x1a8))['classList'][_0x178a0b(0x224)](_0x178a0b(0x228)),editorDragCounter=0x0,currentEditingFileId=null,editorPagesData=[],isDraggingPage=![];if(imageObserver)imageObserver[_0x178a0b(0x1bd)]();renderMergeList();}function updateMergeBtnState(){const _0x26d8b3=_0x388552,_0x54c603=document['getElementById'](_0x26d8b3(0x1f4));mergeFiles['length']<0x1?(_0x54c603[_0x26d8b3(0x205)]=!![],_0x54c603[_0x26d8b3(0x1c9)]['add'](_0x26d8b3(0x215),_0x26d8b3(0x18f)),_0x54c603[_0x26d8b3(0x203)]='<span>請先上傳檔案</span>'):(_0x54c603[_0x26d8b3(0x205)]=![],_0x54c603[_0x26d8b3(0x1c9)]['remove']('opacity-50',_0x26d8b3(0x18f)),_0x54c603[_0x26d8b3(0x203)]=_0x26d8b3(0x1f2));}async function executeMerge(){const _0x17b693=_0x388552;if(mergeFiles[_0x17b693(0x17a)]<0x1)return;const _0xf3df3a=document['getElementById'](_0x17b693(0x1f4)),_0xb4e775=_0xf3df3a[_0x17b693(0x203)];_0xf3df3a['innerHTML']=_0x17b693(0x18d),_0xf3df3a[_0x17b693(0x205)]=!![];try{const _0x57f716=await PDFLib[_0x17b693(0x1a9)][_0x17b693(0x161)]();for(const _0x51c15b of mergeFiles){if(!_0x51c15b['pageIndices']['length'])continue;const _0x1b8ad8=_0x51c15b[_0x17b693(0x19d)]?await _0x51c15b[_0x17b693(0x19d)]['arrayBuffer']():await _0x51c15b[_0x17b693(0x1ce)]['arrayBuffer'](),_0x5629ae=await PDFLib[_0x17b693(0x1a9)][_0x17b693(0x1b8)](_0x1b8ad8[_0x17b693(0x1ab)](0x0)),_0x90a5e4=await _0x57f716[_0x17b693(0x186)](_0x5629ae,_0x51c15b[_0x17b693(0x1af)]);_0x90a5e4[_0x17b693(0x21b)](_0xf666c5=>_0x57f716[_0x17b693(0x223)](_0xf666c5));}const _0x55a362=URL[_0x17b693(0x164)](new Blob([await _0x57f716[_0x17b693(0x20c)]()],{'type':_0x17b693(0x1c2)})),_0x2e895c=new Date(),_0x18707e=_0x3d168b=>String(_0x3d168b)[_0x17b693(0x1c7)](0x2,'0'),_0x50fa0a=_0x17b693(0x1da)+_0x2e895c['getFullYear']()+_0x18707e(_0x2e895c[_0x17b693(0x1ae)]()+0x1)+_0x18707e(_0x2e895c[_0x17b693(0x1b2)]())+_0x18707e(_0x2e895c[_0x17b693(0x18a)]())+_0x18707e(_0x2e895c['getMinutes']())+'.pdf',_0x17f999=document[_0x17b693(0x16b)](_0x17b693(0x1d0));_0x17f999[_0x17b693(0x1f6)]=_0x55a362,_0x17f999[_0x17b693(0x1e2)]=_0x50fa0a,_0xf3df3a[_0x17b693(0x1c9)][_0x17b693(0x224)](_0x17b693(0x228)),_0x17f999['classList'][_0x17b693(0x1cb)](_0x17b693(0x228));}catch(_0x4729b0){alert(_0x17b693(0x16a));}finally{document['getElementById'](_0x17b693(0x1d0))[_0x17b693(0x1c9)]['contains']('hidden')&&(_0xf3df3a[_0x17b693(0x203)]=_0xb4e775，_0xf3df3a[_0x17b693(0x205)]=![]);}}function handleUnlockFile(_0x4259da){const _0x926936=_0x388552;_0x4259da&&_0x4259da[0x0]&&(unlockFile=_0x4259da[0x0]，document['getElementById'](_0x926936(0x222))[_0x926936(0x203)]=_0x926936(0x1df)+_0x4259da[0x0][_0x926936(0x1d8)]+'</span>')，document[_0x926936(0x16b)](_0x926936(0x1b3))[_0x926936(0x1ee)]='';}async function executeUnlock(){const _0x451531=_0x388552;if(!unlockFile)return alert('請先上傳');const _0x4354ac=document['getElementById'](_0x451531(0x1e6))[_0x451531(0x1ee)]，_0x5aee74=document[_0x451531(0x16b)](_0x451531(0x1c1))，_0x2c1089=document[_0x451531(0x16b)](_0x451531(0x1cc));_0x5aee74[_0x451531(0x203)]=_0x451531(0x218)，_0x5aee74[_0x451531(0x205)]=!![]，_0x2c1089[_0x451531(0x1b6)]='';try{const _0x31a485=await PDFLib['PDFDocument']['load'](await unlockFile[_0x451531(0x197)]()，{'password':_0x4354ac})，_0x2ca693=URL[_0x451531(0x164)](new Blob([await _0x31a485[_0x451531(0x20c)]()]，{'type':'application/pdf'}))，_0x29365c=document[_0x451531(0x1bf)]('a');_0x29365c[_0x451531(0x1f6)]=_0x2ca693，_0x29365c[_0x451531(0x1e2)]=_0x451531(0x196)+unlockFile[_0x451531(0x1d8)]，document[_0x451531(0x162)][_0x451531(0x1d9)](_0x29365c)，_0x29365c[_0x451531(0x171)]()，document['body'][_0x451531(0x21c)](_0x29365c)，_0x2c1089['innerText']='成功！'，_0x2c1089[_0x451531(0x187)]='mt-4\x20text-center\x20text-sm\x20font-bold\x20text-green-600';}catch(_0x29bc17){_0x2c1089[_0x451531(0x1b6)]=_0x451531(0x17f),_0x2c1089[_0x451531(0x187)]=_0x451531(0x20f);}finally{_0x5aee74[_0x451531(0x203)]=_0x451531(0x16d)，_0x5aee74[_0x451531(0x205)]=![];}}function toggleLoader(_0x142f01，_0x4a12a5){const _0x2d6c0d=_0x388552,_0x5736d6=document[_0x2d6c0d(0x16b)](_0x2d6c0d(0x1c3));if(_0x142f01)_0x5736d6['classList'][_0x2d6c0d(0x1cb)](_0x2d6c0d(0x228))，document[_0x2d6c0d(0x16b)]('editor-loading-text')[_0x2d6c0d(0x1b6)]=_0x4a12a5;else _0x5736d6[_0x2d6c0d(0x1c9)][_0x2d6c0d(0x224)](_0x2d6c0d(0x228));}
    </script>
</body>
</html>
