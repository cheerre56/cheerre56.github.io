<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Obsidian | Naha Parfums</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Italiana&family=Space+Grotesk:wght@300;400&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300&display=swap" rel="stylesheet">
    <style>
        /* ========================================= 
           CSS è®Šæ•¸å®šç¾© - é¡è‰²ä¸»é¡Œå’Œå°ºå¯¸
           ========================================= */
        :root {
            --bg-color: #050505;
            --text-main: #ffffff;
            --text-sub: #a0a0a0;
            --accent: #c5a367;
            --cursor-size: 20px;
        }

        /* ========================================= 
           å…¨å±€é‡ç½® - ç§»é™¤æ‰€æœ‰é è¨­é‚Šè·å’Œé‚Šæ¡†
           ========================================= */
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
            -webkit-tap-highlight-color: transparent; 
        }

        /* ========================================= 
           Body æ¨£å¼ - ä¸»é«”èƒŒæ™¯å’Œé é¢åŠ è¼‰æ·¡å…¥
           ========================================= */
        body {
            background-color: var(--bg-color);
            color: var(--text-main);
            font-family: 'Space Grotesk', sans-serif;
            overflow: hidden; /* é˜²æ­¢é è¨­æ»¾å‹•ï¼Œäº¤çµ¦è‡ªè¨‚å®¹å™¨ */
            opacity: 0;
            transition: opacity 1.2s ease-out;
        }
        body.loaded { 
            opacity: 1; /* é é¢åŠ è¼‰å®Œæˆå¾Œé¡¯ç¤º */
        }

        /* ========================================= 
           èƒŒæ™¯å®¹å™¨ - æ¼¸å±¤å…‰æ•ˆå’Œå‘¼å¸å‹•ç•«
           ========================================= */
        .bg-container {
            position: fixed;
            top: 0; 
            left: 0;
            width: 100vw; 
            height: 100vh;
            z-index: -1;
            pointer-events: none;
        }

        .gradient-bg {
            width: 100%; 
            height: 100%;
            background: 
                radial-gradient(circle at 20% 40%, rgba(70, 60, 150, 0.15), transparent 50%),
                radial-gradient(circle at 80% 60%, rgba(40, 120, 110, 0.12), transparent 50%);
            filter: blur(80px);
            animation: breathe 10s infinite alternate ease-in-out; /* æŒçºŒçš„å‘¼å¸æ•ˆæœ */
        }

        /* ========================================= 
           å‹•ç•«å®šç¾© - èƒŒæ™¯å‘¼å¸æ•ˆæœ
           ========================================= */
        @keyframes breathe {
            0% { 
                transform: scale(1); 
                opacity: 0.5; 
            }
            100% { 
                transform: scale(1.1); 
                opacity: 0.8; 
            }
        }

        /* ========================================= 
           æ ¸å¿ƒæ»¾å‹•å®¹å™¨ - Snap å¼æ»¾å‹•
           ========================================= */
        .slider-container {
            height: 100vh;
            width: 100vw;
            overflow-y: scroll;
            scroll-snap-type: y mandatory; /* å¼·åˆ¶å¸é™„å„é é¢ */
            scroll-behavior: smooth; /* å¹³æ»‘æ»¾å‹• */
            -ms-overflow-style: none; /* éš±è— IE/Edge æ²è»¸ */
            scrollbar-width: none; /* éš±è— Firefox æ²è»¸ */
            contain: layout style paint; /* CSS containment æ€§èƒ½å„ªåŒ– */
        }
        
        .slider-container::-webkit-scrollbar { 
            display: none; /* éš±è— Chrome/Safari æ²è»¸ */
        }

        /* ========================================= 
           æ¯ä¸€é  (Slide) - PPT æ¨¡å¼
           ========================================= */
        .slide {
            height: 100vh;
            width: 100vw;
            scroll-snap-align: start; /* å¸é™„ä½ç½® */
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        /* ========================================= 
           é ‚éƒ¨å°è¦½åˆ— - å›ºå®šåœ¨æœ€ä¸Šå±¤
           ========================================= */
        nav {
            position: fixed;
            top: 0; 
            width: 100%;
            padding: 1.8rem 3rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            mix-blend-mode: difference;
        }

        .logo { 
            font-family: 'Italiana', serif; 
            font-size: 1.4rem; 
            color: white; 
            text-decoration: none; 
            cursor: pointer;
            transition: opacity 0.3s ease;
        }
        
        .logo:hover {
            opacity: 0.7;
        }

        .chapter-name { 
            font-size: 0.7rem; 
            letter-spacing: 2px; 
            text-transform: uppercase; 
            color: #ccc; 
            opacity: 0.7; 
        }

        .close-btn { 
            color: white; 
            text-decoration: none; 
            font-size: 0.75rem; 
            letter-spacing: 2px; 
            text-transform: uppercase; 
            transition: 0.3s; 
            border-bottom: 1px solid transparent;
            cursor: pointer;
        }
        
        .close-btn:hover { 
            border-color: white; 
        }

        /* ========================================= 
           é é¢æŒ‡ç¤ºå™¨ - å³å´çš„å°åœ“é»
           ========================================= */
        .indicators {
            position: fixed;
            right: 2rem; 
            top: 50%; 
            transform: translateY(-50%);
            display: flex; 
            flex-direction: column; 
            gap: 15px; 
            z-index: 100;
        }

        .dot {
            width: 6px; 
            height: 6px; 
            background: rgba(255,255,255,0.2);
            border-radius: 50%; 
            transition: 0.4s cubic-bezier(0.16, 1, 0.3, 1); /* å¹³æ»‘éæ¸¡ */
            will-change: transform; /* GPU åŠ é€Ÿ */
        }

        .dot.active { 
            background: var(--accent); 
            transform: scale(1.8); 
        }

        /* ========================================= 
           å…§å®¹ä½ˆå±€ - å·¦åœ–å³æ–‡çµæ§‹
           ========================================= */
        .slide-content {
            display: flex;
            width: 100%; 
            max-width: 1400px; 
            height: 80%;
            align-items: center; 
            padding: 100px 5% 40px; 
            gap: 6%;
        }

        /* ========================================= 
           å·¦å´åœ–ç‰‡/å½±ç‰‡å€ - é¦™æ°´ç“¶å±•ç¤º
           ========================================= */
        .visual-area {
            flex: 1; 
            height: 100%; 
            position: relative;
            display: flex; 
            justify-content: center; 
            align-items: center;
        }

        /* âœ… ä¿®æ”¹ï¼šæ”¯æ´åœ–ç‰‡å’Œå½±ç‰‡çš„å®¹å™¨ */
        .img-frame {
            width: 100%; 
            max-width: 420px; 
            aspect-ratio: 3/4.2;
            overflow: hidden;
            border-radius: 20px;
            border: 1px solid rgba(255,255,255,0.08);
            position: relative;
            /* é è¨­ç‹€æ…‹ï¼šç¸®å°ä¸”é€æ˜ */
            opacity: 0; 
            transform: scale(0.95) translateY(20px);
            transition: all 1.2s cubic-bezier(0.16, 1, 0.3, 1);
            will-change: transform, opacity; /* GPU åŠ é€Ÿ */
            backface-visibility: hidden; /* æ€§èƒ½å„ªåŒ– */
        }

        /* åœ–ç‰‡è‡ªé©æ‡‰ */
        .img-frame img {
            width: 100%; 
            height: 100%; 
            object-fit: cover;
            filter: saturate(0.9) contrast(1.1);
        }

        /* å½±ç‰‡è‡ªé©æ‡‰ - ä¿æŒå¯¬é«˜æ¯”ä¸¦å¡«æ»¿å®¹å™¨ */
        .img-frame video {
            width: 100%; 
            height: 100%; 
            object-fit: cover;
            display: block;
        }

        /* Slide æ¿€æ´»æ™‚çš„å‹•ç•« */
        .slide.active .img-frame {
            opacity: 1; 
            transform: scale(1) translateY(0);
        }

        /* ========================================= 
           å³å´æ–‡å­—å€ - ç”¢å“æè¿°å’Œç‰¹æ€§
           ========================================= */
        .text-area { 
            flex: 1; 
            padding-left: 1rem; 
        }

        /* æ–‡å­—é è¨­ç‹€æ…‹ï¼šéš±è—ä¸¦ä¸‹ç§» */
        .reveal {
            opacity: 0; 
            transform: translateY(30px);
            transition: all 1s cubic-bezier(0.16, 1, 0.3, 1);
        }

        /* Slide æ¿€æ´»æ™‚çš„æ–‡å­—å‹•ç•« (å»¶é²æ’­æ”¾) */
        .slide.active .reveal { 
            opacity: 1; 
            transform: translateY(0); 
        }
        
        .slide.active .delay-1 { 
            transition-delay: 0.2s; 
        }
        
        .slide.active .delay-2 { 
            transition-delay: 0.3s; 
        }
        
        .slide.active .delay-3 { 
            transition-delay: 0.5s; 
        }
        
        .slide.active .delay-4 { 
            transition-delay: 0.7s; 
        }

        .slide.active .delay-5 { 
            transition-delay: 0.9s; 
        }

        /* ========================================= 
           ç”¢å“ç·¨è™Ÿ - é ‚éƒ¨æ¨™ç±¤
           ========================================= */
        .perfume-no { 
            font-size: 0.75rem; 
            letter-spacing: 0.25em; 
            color: var(--accent); 
            margin-bottom: 1.2rem; 
            display: block; 
            text-transform: uppercase;
        }

        /* ========================================= 
           ç”¢å“åç¨± - å¤§æ¨™é¡Œ
           ========================================= */
        .perfume-name {
            font-family: 'Italiana', serif; 
            font-size: clamp(2.2rem, 8vw, 5.5rem);
            line-height: 1;
            margin-bottom: 1.8rem;
            background: linear-gradient(45deg, #fff, #aaa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* ========================================= 
           ä¸­æ–‡åç¨± - å‰¯æ¨™é¡Œ
           ========================================= */
        .perfume-name-cn {
            font-family: 'Noto Sans TC', sans-serif;
            font-size: 1rem;
            letter-spacing: 0.15em;
            color: var(--accent);
            margin-bottom: 1.5rem;
            display: block;
            text-transform: capitalize;
            opacity: 0;
            transform: translateY(30px);
            transition: all 1s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .slide.active .perfume-name-cn {
            opacity: 1;
            transform: translateY(0);
            transition-delay: 0.4s;
        }

        /* ========================================= 
           ç”¢å“æè¿° - ä¸­æ–‡æ•˜è¿°
           ========================================= */
        .perfume-desc {
            font-family: 'Noto Sans TC', sans-serif;
            font-size: 0.95rem; 
            line-height: 1.8;
            color: var(--text-sub); 
            max-width: 460px;
            margin-bottom: 1.5rem;
            font-weight: 300; 
            letter-spacing: 0.02em;
        }

        /* ========================================= 
           é¦™æ°£å±¤æ¬¡è¡¨ - å‰/ä¸­/åŸºé¦™
           ========================================= */
        .notes-grid {
            display: grid; 
            grid-template-columns: auto 1fr;
            gap: 12px 25px; 
            border-top: 1px solid rgba(255,255,255,0.08);
            padding-top: 1.8rem; 
            width: fit-content;
            margin-bottom: 2rem;
        }

        .note-row { 
            display: contents; /* è®“å­å…ƒç´ ç›´æ¥åƒèˆ‡ grid */
        }

        .note-label { 
            font-size: 0.65rem; 
            text-transform: uppercase; 
            color: #666; 
            letter-spacing: 0.15em; 
            padding-top: 2px;
        }

        .note-val { 
            font-size: 0.9rem; 
            color: #d0d0d0; 
            font-family: 'Italiana', serif; 
            letter-spacing: 0.02em;
        }

        /* ========================================= 
           å®¹é‡é¸æ“‡å™¨
           ========================================= */
        .capacity-selector {
            margin-bottom: 1.5rem;
        }

        .capacity-selector > label {
            font-size: 0.75rem;
            text-transform: uppercase;
            color: var(--text-sub);
            letter-spacing: 1px;
            display: block;
            margin-bottom: 0.8rem;
        }

        .capacity-options {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: flex-start;
        }

        .capacity-btn {
            padding: 0.6rem 1rem;
            border: 1px solid rgba(197, 163, 103, 0.5);
            background: transparent;
            color: var(--text-sub);
            font-size: 0.7rem;
            letter-spacing: 0.5px;
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.3s ease;
            font-family: 'Space Grotesk', sans-serif;
            text-transform: uppercase;
            min-height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex: 0 1 auto;
        }

        .capacity-btn:hover {
            border-color: var(--accent);
            color: var(--accent);
        }

        .capacity-btn.active {
            background: var(--accent);
            color: var(--bg-color);
            border-color: var(--accent);
        }

        /* ========================================= 
           ç”¢å“åƒ¹æ ¼å€åŸŸ
           ========================================= */
        .price-section {
            display: flex;
            align-items: baseline;
            gap: 0.8rem;
            margin-bottom: 2rem;
        }

        .product-price {
            font-family: 'Italiana', serif;
            font-size: 2.5rem;
            color: var(--accent);
            font-weight: normal;
        }

        .price-label {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-sub);
        }

        /* ========================================= 
           è³¼ç‰©è»ŠæŒ‰éˆ•
           ========================================= */
        .add-to-cart-btn {
            display: inline-block;
            padding: 0.85rem 2rem;
            border: 1px solid var(--accent);
            background: transparent;
            color: var(--accent);
            font-size: 0.75rem;
            letter-spacing: 1.5px;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Space Grotesk', sans-serif;
            border-radius: 4px;
            will-change: transform, background-color;
            position: relative;
            overflow: hidden;
            z-index: 50;
            min-height: 44px;
        }

        .add-to-cart-btn:hover {
            background: var(--accent);
            color: var(--bg-color);
            transform: scale(1.05);
        }

        /* ========================================= 
           è³¼ç‰©è»Šåœ–æ¨™ - å³ä¸‹è§’
           ========================================= */
        .cart-icon {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 99;
            background: transparent;
            border: 1px solid var(--accent);
            color: var(--accent);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .cart-icon:hover {
            background: var(--accent);
            color: var(--bg-color);
            transform: scale(1.1);
        }

        .cart-badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #ff6b6b;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: bold;
        }

        /* ========================================= 
           è³¼ç‰©è»Šå‹•ç•«æ•ˆæœ
           ========================================= */
        .flying-item {
            position: fixed;
            z-index: 9999;
            pointer-events: none;
            font-size: 2rem;
        }

        @keyframes flyToCart {
            0% {
                opacity: 1;
                transform: translate(0, 0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(var(--end-x), var(--end-y)) scale(0.3);
            }
        }

        .flying-item.animate {
            animation: flyToCart 0.8s cubic-bezier(0.25, 1, 0.5, 1) forwards;
        }

        /* ========================================= 
           æ»¾å‹•æç¤º
           ========================================= */
        .scroll-hint {
            position: absolute; 
            bottom: 25px; 
            left: 50%;
            transform: translateX(-50%); 
            font-size: 0.6rem;
            opacity: 0.4; 
            letter-spacing: 3px;
            animation: floatUp 2s infinite;
        }

        /* ========================================= 
           å‹•ç•«å®šç¾© - ä¸Šä¸‹æµ®å‹•
           ========================================= */
        @keyframes floatUp {
            0%, 100% { 
                transform: translate(-50%, 0); 
                opacity: 0.4; 
            }
            50% { 
                transform: translate(-50%, -10px); 
                opacity: 0.8; 
            }
        }

        /* ========================================= 
           å¹³æ¿è¨­å‚™é©é… (1024px ä»¥ä¸‹)
           ========================================= */
        @media (max-width: 1024px) {
            nav { 
                padding: 1.5rem; 
            }

            .indicators { 
                right: 1rem; 
            }

            .slide-content {
                flex-direction: column; 
                height: 100%;
                padding: 95px 8% 40px; 
                gap: 30px;
                text-align: center; 
                justify-content: flex-start;
            }

            .visual-area { 
                flex: 0 0 auto; 
                width: 100%; 
                height: 40vh; 
            }

            .img-frame { 
                height: 100%; 
                width: auto; 
                aspect-ratio: 3/4; 
                margin: 0 auto; 
                border-radius: 20px;
            }

            .text-area { 
                padding-left: 0; 
                display: flex; 
                flex-direction: column; 
                align-items: center; 
                width: 100%; 
            }

            .perfume-name { 
                font-size: clamp(1.8rem, 6vw, 3.2rem); 
                margin-bottom: 1rem;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
            }

            .perfume-desc { 
                font-size: 0.85rem; 
                margin-bottom: 1rem;
            }

            .notes-grid {
                display: flex; 
                flex-wrap: wrap; 
                justify-content: center;
                gap: 15px; 
                border-top: none; 
                padding-top: 0;
            }

            .note-row { 
                display: flex; 
                flex-direction: column; 
                gap: 4px; 
            }

            .capacity-options {
                justify-content: center;
            }

            .capacity-btn {
                flex: 0 1 calc(33.333% - 7px);
                min-width: 80px;
            }

            .price-section {
                justify-content: center;
            }

            .add-to-cart-btn {
                width: 100%;
            }

            .cart-icon {
                bottom: 1rem;
                right: 1rem;
                width: 45px;
                height: 45px;
                font-size: 1.1rem;
            }
        }

        /* ========================================= 
           æ‰‹æ©Ÿè¨­å‚™é©é… (768px ä»¥ä¸‹)
           ========================================= */
        @media (max-width: 768px) {
            nav {
                padding: 1rem 1.5rem;
                gap: 1rem;
            }

            .logo {
                font-size: 1rem;
            }

            .chapter-name {
                font-size: 0.65rem;
            }

            .close-btn {
                font-size: 0.65rem;
            }

            .indicators {
                right: 0.8rem;
                gap: 12px;
            }

            .dot {
                width: 5px;
                height: 5px;
            }

            .slide-content {
                flex-direction: column; 
                padding: 80px 5% 25px; 
                gap: 12px;
                text-align: center;
                justify-content: flex-start;
                height: 100%;
            }

            .visual-area {
                flex: 0 0 auto;
                width: 100%;
                height: 40vh;
            }

            .img-frame { 
                height: 100%; 
                width: auto; 
                aspect-ratio: 3/4; 
                margin: 0 auto;
                max-width: 280px;
                border-radius: 16px;
            }

            .text-area {
                padding-left: 0;
                display: flex;
                flex-direction: column;
                align-items: center;
                width: 100%;
            }

            .perfume-no {
                font-size: 0.7rem;
                margin-bottom: 0.3rem;
            }

            .perfume-name { 
                font-size: clamp(1.6rem, 5.5vw, 2rem);
                line-height: 1;
                margin-bottom: 0.4rem;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
            }

            .perfume-name-cn {
                font-size: 0.9rem;
                margin-bottom: 1rem;
            }

            .perfume-desc { 
                font-size: 0.8rem;
                line-height: 1.5;
                margin-bottom: 0.7rem;
                max-width: 100%;
            }

            .notes-grid {
                display: flex;
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
                gap: 8px 15px;
                border-top: 1px solid rgba(255,255,255,0.08);
                padding-top: 0.5rem;
                margin-bottom: 0.5rem;
                width: 100%;
            }

            .note-row { 
                display: flex;
                flex-direction: column;
                gap: 2px;
                align-items: center;
            }

            .note-label {
                font-size: 0.6rem;
                letter-spacing: 0.1em;
            }

            .note-val {
                font-size: 0.75rem;
            }

            .capacity-selector {
                margin-bottom: 0.6rem;
                width: 100%;
            }

            .capacity-selector > label {
                font-size: 0.7rem;
                margin-bottom: 0.4rem;
            }

            .capacity-options {
                justify-content: center;
                width: 100%;
                gap: 8px;
            }

            .capacity-btn {
                flex: 0 1 calc(33.333% - 6px);
                min-width: 65px;
                min-height: 38px;
                padding: 0.45rem 0.3rem;
                font-size: 0.65rem;
            }

            .price-section {
                flex-direction: row;
                gap: 0.3rem;
                align-items: center;
                justify-content: center;
                margin-bottom: 0.6rem;
            }

            .product-price {
                font-size: 1.4rem;
            }

            .price-label {
                font-size: 0.65rem;
            }

            .add-to-cart-btn {
                width: 100%;
                padding: 0.7rem 1.5rem;
                font-size: 0.75rem;
                letter-spacing: 1px;
                min-height: 42px;
            }

            .cart-icon {
                bottom: 1rem;
                right: 1rem;
                width: 45px;
                height: 45px;
                font-size: 1rem;
            }

            .scroll-hint {
                display: none;
            }
        }

        /* ========================================= 
           è¶…å°è¢å¹•é©é… (480px ä»¥ä¸‹)
           ========================================= */
        @media (max-width: 480px) {
            nav {
                padding: 0.8rem 1rem;
                gap: 0.5rem;
            }

            .logo {
                font-size: 0.9rem;
            }

            .chapter-name {
                display: none;
            }

            .close-btn {
                font-size: 0.6rem;
            }

            .slide-content {
                padding: 80px 5% 20px;
                gap: 10px;
            }

            .visual-area {
                height: 38vh;
            }

            .perfume-no {
                margin-bottom: 0.2rem;
            }

            .perfume-name {
                font-size: clamp(1.4rem, 5vw, 1.8rem);
                margin-bottom: 0.3rem;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
            }

            .perfume-name-cn {
                font-size: 0.8rem;
                margin-bottom: 0.8rem;
            }

            .perfume-desc {
                margin-bottom: 0.6rem;
                font-size: 0.8rem;
                line-height: 1.5;
            }

            .notes-grid {
                gap: 6px 12px;
                padding-top: 0.4rem;
                margin-bottom: 0.4rem;
            }

            .capacity-selector {
                margin-bottom: 0.5rem;
            }

            .capacity-selector > label {
                margin-bottom: 0.3rem;
            }

            .capacity-options {
                gap: 6px;
            }

            .capacity-btn {
                flex: 0 1 calc(33.333% - 4px);
                min-width: 60px;
                padding: 0.4rem 0.2rem;
                font-size: 0.6rem;
                min-height: 36px;
            }

            .price-section {
                margin-bottom: 0.5rem;
            }

            .product-price {
                font-size: 1.3rem;
            }

            .add-to-cart-btn {
                width: 100%;
                padding: 0.65rem 1.2rem;
                font-size: 0.65rem;
                min-height: 40px;
            }
        }
    </style>
</head>
<body>

    <!-- ========================================= 
         èƒŒæ™¯æ¼¸å±¤å±¤ - å›ºå®šèƒŒæ™¯
         ========================================= -->
    <div class="bg-container">
        <div class="gradient-bg"></div>
    </div>

    <!-- ========================================= 
         è³¼ç‰©è»ŠæŒ‰éˆ• - å³ä¸‹è§’
         ========================================= -->
    <a href="cart.html" class="cart-icon">
        ğŸ›’
        <span class="cart-badge" id="cartBadge">0</span>
    </a>

    <!-- ========================================= 
         é ‚éƒ¨å°è¦½åˆ— - å›ºå®šèœå–®
         ========================================= -->
    <nav>
        <a href="index.html" class="logo" data-hover>naha.</a>
        <div class="chapter-name">Obsidian â€¢ The Oriental Series</div>
        <a href="index.html" class="close-btn" data-hover>Back to Home</a>
    </nav>

    <!-- ========================================= 
         é é¢æŒ‡ç¤ºå™¨ - å³å´é»é»
         ========================================= -->
    <div class="indicators">
        <div class="dot active"></div>
    </div>

    <!-- ========================================= 
         ä¸»æ»¾å‹•å®¹å™¨ - PPT æ¨¡å¼
         ========================================= -->
    <div class="slider-container" id="slider">

        <!-- ========================================= 
             ç¬¬ä¸€é ï¼šGolden Nectar - é‡‘ç‡¦èœœèªæ¬¾
             ========================================= -->
        <section class="slide" id="slide1">
            <div class="slide-content">
                <div class="visual-area">
                    <div class="img-frame" data-hover>
                        <video autoplay muted loop playsinline>
                            <source src="Golden.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
                <div class="text-area">
                    <span class="perfume-no reveal delay-1">NO.03</span>
                    <h1 class="perfume-name reveal delay-2">Golden Nectar</h1>
                    <p class="perfume-desc reveal delay-3">
                        æœåœ’è£¡çš„é‡‘è‰²é™½å…‰ï¼Œæ˜¯å±¤æ¬¡åˆ†æ˜çš„å—…è¦ºé¥—å®´ã€‚å¾é»‘é†‹æ —çš„ä¿çš®é…¸ç”œï¼Œéæ¸¡åˆ°åˆºæ§èœœçš„ç¥ç€å…‰æ¾¤ï¼Œæœ€å¾ŒèåŒ–åœ¨æ°´èœœæ¡ƒå¤šæ±çš„çµ¨æ¯›ä¸­ï¼Œå¯«ä¸‹æœ€å‹•äººçš„å¤æ—¥è©©ç¯‡ã€‚
                        <br><br>
                        Golden sunlight bottled in an orchardâ€”a dual feast for the palate and the senses.
                    </p>
                    <div class="notes-grid reveal delay-4">
                        <div class="note-row"><span class="note-label">Top</span> <span class="note-val">Blackcurrant</span></div>
                        <div class="note-row"><span class="note-label">Heart</span> <span class="note-val">Acacia Honey</span></div>
                        <div class="note-row"><span class="note-label">Base</span> <span class="note-val">Peach</span></div>
                    </div>
                    <div class="capacity-selector reveal delay-4">
                        <label>Capacity:</label>
                        <div class="capacity-options">
                            <button class="capacity-btn" data-ml="10" data-price="259">10ml - NT$ 259</button>
                            <button class="capacity-btn active" data-ml="30" data-price="495">30ml - NT$ 495</button>
                            <button class="capacity-btn" data-ml="50" data-price="765">50ml - NT$ 765</button>
                        </div>
                    </div>
                    <div class="price-section reveal delay-5">
                        <span class="product-price" id="price1">NT$ 495</span>
                        <span class="price-label" id="capacity1">/ 30ml</span>
                    </div>
                    <button class="add-to-cart-btn reveal delay-5" onclick="addToCart(event, 'Golden Nectar')">Add to Cart</button>
                </div>
            </div>
        </section>

    </div>

    <script>
        /* ========================================= 
           é é¢åŠ è¼‰å®Œæˆ - é¡¯ç¤ºå…§å®¹å’Œè§¸ç™¼å‹•ç•«
           ========================================= */
        window.addEventListener('load', () => {
            document.body.classList.add('loaded');
            checkSlides();
            updateCartBadge();
            initializeCapacitySelectors();
        });

        /* ========================================= 
           åˆå§‹åŒ–å®¹é‡é¸æ“‡å™¨
           ========================================= */
        function initializeCapacitySelectors() {
            document.querySelectorAll('.capacity-selector').forEach(selector => {
                const buttons = selector.querySelectorAll('.capacity-btn');
                const slide = selector.closest('.slide');
                const slideNum = slide.id === 'slide1' ? '1' : '2';
                const priceElement = document.getElementById(`price${slideNum}`);
                const capacityElement = document.getElementById(`capacity${slideNum}`);

                buttons.forEach(btn => {
                    btn.addEventListener('click', function() {
                        // ç§»é™¤åŒçµ„å…¶ä»–æŒ‰éˆ•çš„ active class
                        buttons.forEach(b => b.classList.remove('active'));
                        // æ·»åŠ ç•¶å‰æŒ‰éˆ•çš„ active class
                        this.classList.add('active');
                        
                        // æ›´æ–°åƒ¹æ ¼å’Œå®¹é‡é¡¯ç¤º
                        const price = this.dataset.price;
                        const ml = this.dataset.ml;
                        priceElement.textContent = `NT$ ${price}`;
                        capacityElement.textContent = `/ ${ml}ml`;
                    });
                });
            });
        }

        /* ========================================= 
           Intersection Observer - ç›£æ¸¬ Slide å¯è¦‹æ€§ä¸¦è§¸ç™¼å‹•ç•«
           ========================================= */
        const slider = document.getElementById('slider');
        const slides = document.querySelectorAll('.slide');
        const dots = document.querySelectorAll('.dot');

        const observerOptions = {
            root: slider,
            threshold: 0.5
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                    
                    const index = Array.from(slides).indexOf(entry.target);
                    dots.forEach(d => d.classList.remove('active'));
                    if(dots[index]) dots[index].classList.add('active');
                } else {
                    entry.target.classList.remove('active');
                }
            });
        }, observerOptions);

        slides.forEach(slide => observer.observe(slide));

        /* ========================================= 
           å‚™ç”¨å‡½å¼ - æ‰‹å‹•æª¢æŸ¥åˆå§‹ Slide ç‹€æ…‹
           ========================================= */
        function checkSlides() {
            slides.forEach((slide, index) => {
                const rect = slide.getBoundingClientRect();
                if (rect.top >= 0 && rect.top < window.innerHeight / 2) {
                    slide.classList.add('active');
                    dots[index]?.classList.add('active');
                }
            });
        }

        /* ========================================= 
           è³¼ç‰©è»Šé£›è¡Œå‹•ç•«
           ========================================= */
        function addToCart(event, productName) {
            const button = event.target;
            const cartIcon = document.querySelector('.cart-icon');
            
            // ç²å–é¸ä¸­çš„å®¹é‡å’Œåƒ¹æ ¼
            const slide = button.closest('.slide');
            const activeCapacityBtn = slide.querySelector('.capacity-btn.active');
            const selectedML = activeCapacityBtn.dataset.ml;
            const selectedPrice = activeCapacityBtn.dataset.price;
            
            /* è¨ˆç®—é–‹å§‹å’ŒçµæŸä½ç½® */
            const buttonRect = button.getBoundingClientRect();
            const cartRect = cartIcon.getBoundingClientRect();
            
            const startX = buttonRect.left + buttonRect.width / 2;
            const startY = buttonRect.top + buttonRect.height / 2;
            const endX = cartRect.left + cartRect.width / 2 - startX;
            const endY = cartRect.top + cartRect.height / 2 - startY;
            
            /* å»ºç«‹é£›è¡Œå…ƒç´  */
            const flyingItem = document.createElement('div');
            flyingItem.className = 'flying-item';
            flyingItem.innerText = 'ğŸ§´';
            flyingItem.style.left = startX + 'px';
            flyingItem.style.top = startY + 'px';
            flyingItem.style.setProperty('--end-x', endX + 'px');
            flyingItem.style.setProperty('--end-y', endY + 'px');
            
            document.body.appendChild(flyingItem);
            
            /* è§¸ç™¼å‹•ç•« */
            setTimeout(() => {
                flyingItem.classList.add('animate');
            }, 10);
            
            /* å‹•ç•«å®Œæˆå¾Œç§»é™¤å…ƒç´  */
            setTimeout(() => {
                flyingItem.remove();
            }, 800);
            
            /* æ·»åŠ åˆ°è³¼ç‰©è»Š - åŒ…å«å®¹é‡å’Œåƒ¹æ ¼ */
            const cart = JSON.parse(localStorage.getItem('nahaCart')) || {};
            const productKey = `${productName}_${selectedML}ml`;
            cart[productKey] = {
                name: productName,
                ml: selectedML,
                price: selectedPrice,
                quantity: (cart[productKey]?.quantity || 0) + 1
            };
            localStorage.setItem('nahaCart', JSON.stringify(cart));
            
            /* æ›´æ–°å¾½ç«  */
            updateCartBadge();
        }

        /* ========================================= 
           æ›´æ–°è³¼ç‰©è»Šå¾½ç«  - é¡¯ç¤ºå•†å“æ•¸é‡
           ========================================= */
        function updateCartBadge() {
            const cart = JSON.parse(localStorage.getItem('nahaCart')) || {};
            let totalItems = 0;
            Object.values(cart).forEach(item => {
                if (typeof item === 'object' && item.quantity) {
                    totalItems += item.quantity;
                } else {
                    totalItems += 1;
                }
            });
            
            const badge = document.getElementById('cartBadge');
            badge.innerText = totalItems;
            
            if (totalItems === 0) {
                badge.style.display = 'none';
            } else {
                badge.style.display = 'flex';
            }
        }
    </script>

</body>
</html>
